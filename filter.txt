Month Filter Status =
VAR HasSelection =
    HASONEVALUE(DimMonth[MonthNum])    -- best signal for “user picked a month”

VAR m =
    COALESCE(SELECTEDVALUE(DimMonth[MonthNum]), MONTH(TODAY()))

VAR m2 =
    IF(m = 12, 1, m + 1)

VAR name1 =
    SWITCH(m,
        1,"Jan",2,"Feb",3,"Mar",4,"Apr",5,"May",6,"Jun",
        7,"Jul",8,"Aug",9,"Sep",10,"Oct",11,"Nov",12,"Dec"
    )

VAR name2 =
    SWITCH(m2,
        1,"Jan",2,"Feb",3,"Mar",4,"Apr",5,"May",6,"Jun",
        7,"Jul",8,"Aug",9,"Sep",10,"Oct",11,"Nov",12,"Dec"
    )

RETURN
IF(
    HasSelection,
    "Showing: " & name1 & " (selected)",
    "Showing: " & name1 & " + " & name2 & " (default)"
)


##### MONTH SLICE
Show Row (Selected or Default+Next) =
VAR HasSelection = HASONEVALUE(DimMonth[MonthNum])   -- single-select slicer recommended
VAR m  = COALESCE(SELECTEDVALUE(DimMonth[MonthNum]), MONTH(TODAY()))
VAR m2 = IF(m = 12, 1, m + 1)

VAR HasMonthM =
    CALCULATE(
        COUNTROWS(Gold_PlannedDroneOps),
        KEEPFILTERS(Gold_PlannedDroneOps[PlannedMonthNum] = m)
    ) > 0

VAR HasMonthM2 =
    CALCULATE(
        COUNTROWS(Gold_PlannedDroneOps),
        KEEPFILTERS(Gold_PlannedDroneOps[PlannedMonthNum] = m2)
    ) > 0

RETURN
IF(
    HasSelection,
    IF(HasMonthM, 1, 0),                 -- selected month only
    IF(HasMonthM || HasMonthM2, 1, 0)    -- default: month + next month
)


Planned Ops (Selected or Default+Next) =
VAR HasSelection = HASONEVALUE(DimMonth[MonthNum])
VAR m  = COALESCE(SELECTEDVALUE(DimMonth[MonthNum]), MONTH(TODAY()))
VAR m2 = IF(m = 12, 1, m + 1)
RETURN
IF(
    HasSelection,
    CALCULATE(
        COUNTROWS(Gold_PlannedDroneOps),
        KEEPFILTERS(Gold_PlannedDroneOps[PlannedMonthNum] = m)
    ),
    CALCULATE(
        COUNTROWS(Gold_PlannedDroneOps),
        KEEPFILTERS(Gold_PlannedDroneOps[PlannedMonthNum] = m
                 || Gold_PlannedDroneOps[PlannedMonthNum] = m2)
    )
)




######## TEST DISCONNECTED SLICER
MonthSelector =
DATATABLE(
    "MonthNum", INTEGER,
    "MonthName", STRING,
    {
        {1,"January"}, {2,"February"}, {3,"March"}, {4,"April"},
        {5,"May"}, {6,"June"}, {7,"July"}, {8,"August"},
        {9,"September"}, {10,"October"}, {11,"November"}, {12,"December"}
    }
)

Planned Ops (Matrix Controlled) =
VAR HasSelection = HASONEVALUE(MonthSelector[MonthNum])
VAR SelMonth = SELECTEDVALUE(MonthSelector[MonthNum])
VAR DefaultM1 = MONTH(TODAY())
VAR DefaultM2 = IF(DefaultM1 = 12, 1, DefaultM1 + 1)

-- This is the month currently being evaluated in the matrix column:
VAR ColMonth = SELECTEDVALUE(DimMonth[MonthNum])

VAR ShowThisColumn =
    IF(
        HasSelection,
        ColMonth = SelMonth,
        ColMonth = DefaultM1 || ColMonth = DefaultM2
    )

RETURN
IF(
    ShowThisColumn,
    CALCULATE(
        COUNTROWS(Gold_PlannedDroneOps)
        -- your model relationships should already apply the DimMonth column filter
    ),
    BLANK()
)


Include Point (Selected or Default+Next) =
VAR HasSelection = HASONEVALUE(MonthSelector[MonthNum])
VAR Sel = SELECTEDVALUE(MonthSelector[MonthNum])

VAR M1 = MONTH(TODAY())
VAR M2 = IF(M1 = 12, 1, M1 + 1)

VAR HasM1 =
    CALCULATE(
        COUNTROWS(Gold_PlannedDroneOps),
        KEEPFILTERS(Gold_PlannedDroneOps[PlannedMonthNum] = IF(HasSelection, Sel, M1))
    ) > 0

VAR HasM2 =
    IF(
        HasSelection,
        FALSE(),
        CALCULATE(
            COUNTROWS(Gold_PlannedDroneOps),
            KEEPFILTERS(Gold_PlannedDroneOps[PlannedMonthNum] = M2)
        ) > 0
    )

RETURN
IF(HasM1 || HasM2, 1, 0)



Planned Ops (Selected or Default+Next) =
VAR HasSelection = HASONEVALUE(MonthSelector[MonthNum])
VAR Sel = SELECTEDVALUE(MonthSelector[MonthNum])
VAR M1 = MONTH(TODAY())
VAR M2 = IF(M1 = 12, 1, M1 + 1)
RETURN
IF(
    HasSelection,
    CALCULATE(
        COUNTROWS(Gold_PlannedDroneOps),
        KEEPFILTERS(Gold_PlannedDroneOps[PlannedMonthNum] = Sel)
    ),
    CALCULATE(
        COUNTROWS(Gold_PlannedDroneOps),
        KEEPFILTERS(
            Gold_PlannedDroneOps[PlannedMonthNum] = M1
            || Gold_PlannedDroneOps[PlannedMonthNum] = M2
        )
    )
)

Month Filter Status =
VAR HasFilter = ISFILTERED(MonthSelector[MonthName])
VAR M1 = MONTH(TODAY())
VAR M2 = IF(M1 = 12, 1, M1 + 1)

VAR Name1 =
    SWITCH(M1,
        1,"January",2,"February",3,"March",4,"April",5,"May",6,"June",
        7,"July",8,"August",9,"September",10,"October",11,"November",12,"December"
    )

VAR Name2 =
    SWITCH(M2,
        1,"January",2,"February",3,"March",4,"April",5,"May",6,"June",
        7,"July",8,"August",9,"September",10,"October",11,"November",12,"December"
    )

RETURN
IF(
    NOT HasFilter,
    "Showing: " & Name1 & " + " & Name2 & " (default)",
    IF(
        HASONEVALUE(MonthSelector[MonthName]),
        "Showing: " & SELECTEDVALUE(MonthSelector[MonthName]) & " (selected)",
        "Showing: Custom (selected)"
    )
)

